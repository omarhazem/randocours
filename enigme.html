<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Énigme</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="enigmes.js"></script>
  <script src="script.js" defer></script>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>
<body class="bg-gray-50 font-sans min-h-screen">

  <!-- Bloc d'introduction avec saisie du groupe -->
  <div id="introBloc" class="flex flex-col items-center justify-center h-screen text-center px-6 transition-all duration-700">
    <h1 class="text-3xl md:text-4xl font-extrabold text-indigo-600 mb-4">Bienvenue dans cette nouvelle énigme !</h1>
    <p class="text-gray-700 mb-6 text-lg">Avant de commencer, entrez la lettre de votre groupe pour déverrouiller l'énigme.</p>
    <input type="text" id="groupeInput" maxlength="1" class="text-center border border-gray-300 rounded px-4 py-2 w-24 text-lg font-semibold mb-4 uppercase" placeholder="A, B..." />
    <button id="validerGroupeBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-3 rounded-full shadow-md transition transform hover:scale-105">
      Démarrer l'énigme
    </button>
  </div>

  <!-- Bloc du contenu de l'énigme caché au début -->
  <div id="enigmeContent" class="hidden opacity-0 transition-opacity duration-700">
    <!-- ici on intègre le formulaire de l'énigme comme dans ton fichier actuel -->
    <!-- Tu peux insérer ton formulaire ici, je peux le faire pour toi si tu veux -->
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("validerGroupeBtn");
      const groupeInput = document.getElementById("groupeInput");
      const introBloc = document.getElementById("introBloc");
      const enigmeContent = document.getElementById("enigmeContent");

      btn.addEventListener("click", () => {
        const groupe = groupeInput.value.trim().toUpperCase();
        if (!groupe.match(/^[A-E]$/)) {
          alert("Veuillez entrer une lettre valide entre A et E.");
          return;
        }

        localStorage.setItem("groupe", groupe); // stocke le groupe si tu veux l'utiliser ensuite

        introBloc.classList.add("opacity-0");
        introBloc.classList.add("pointer-events-none");
        setTimeout(() => {
          introBloc.classList.add("hidden");
          enigmeContent.classList.remove("hidden");
          setTimeout(() => {
            enigmeContent.classList.add("opacity-100");
          }, 10);
        }, 700);
      });
    });
  </script>

</body>
</html>
